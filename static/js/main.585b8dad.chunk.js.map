{"version":3,"sources":["components/TodoList/TodoList.tsx","api/todos.ts","components/Loader/Loader.tsx","components/CurrentUser/CurrentUser.tsx","App.tsx","index.tsx"],"names":["TodoList","React","memo","todos","setSelectedUserId","selectedTodoId","setSelectedTodoId","useState","query","setQuery","selectValue","setSelectValue","visibleTodos","setVisibleTodos","useEffect","lowerCaseQuery","toLowerCase","filter","todo","title","includes","completed","className","type","value","placeholder","onChange","event","target","onClick","sort","Math","random","map","classNames","htmlFor","id","checked","readOnly","userId","request","endpoint","a","fetch","responce","json","Loader","CurrentUser","selectedUserId","user","setUser","isLoading","setLoading","useMemo","fetchUser","useCallback","undefined","name","email","phone","App","setTodos","fetchTodos","ReactDOM","render","document","getElementById"],"mappings":"mWAgBO,IAAMA,EAA4BC,IAAMC,MAAK,YAK7C,IAJLC,EAII,EAJJA,MACAC,EAGI,EAHJA,kBACAC,EAEI,EAFJA,eACAC,EACI,EADJA,kBAEA,EAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAsCF,mBAAS,OAA/C,mBAAOG,EAAP,KAAoBC,EAApB,KACA,EAAwCJ,mBAAiB,IAAzD,mBAAOK,EAAP,KAAqBC,EAArB,KA0BA,OAxBAC,qBAAU,WACR,IAAMC,EAAiBP,EAAMQ,cAE7BH,EAAgBV,EAAMc,QAAO,SAAAC,GAC3B,IAAKA,EAAKC,MAAMC,SAASL,GACvB,OAAO,EAGT,OAAQL,GACN,IAAK,MASL,QACE,OAAO,EAPT,IAAK,SACH,OAAQQ,EAAKG,UAEf,IAAK,YACH,OAAOH,EAAKG,iBAMjB,CAAClB,EAAOK,EAAOE,IAGhB,sBAAKY,UAAU,WAAf,UACE,wCACA,uBACEC,KAAK,OACLC,MAAOhB,EACPiB,YAAY,kBACZH,UAAU,kBACVI,SAAU,SAAAC,GAAK,OAAIlB,EAASkB,EAAMC,OAAOJ,UAG3C,yBACEA,MAAOd,EACPgB,SAAU,SAAAC,GAAK,OAAIhB,EAAegB,EAAMC,OAAOJ,QAC/CF,UAAU,mBAHZ,UAKE,wBAAQE,MAAM,MAAd,iBACA,wBAAQA,MAAM,SAAd,oBACA,wBAAQA,MAAM,YAAd,0BAGF,wBACEF,UAAU,mBACVC,KAAK,SACLM,QAAS,kBAAMhB,EAA0B,YAAID,GA7DxCkB,MAAK,kBAAMC,KAAKC,SAAW,QA0DlC,uBAOA,qBAAKV,UAAU,2BAAf,SACE,oBAAIA,UAAU,iBAAd,SACGV,EAAaqB,KAAI,SAAAf,GAAI,OACpB,qBAEEI,UAAWY,IACT,iBACA,CAAE,0BAA2BhB,EAAKG,WAClC,CAAE,6BAA8BH,EAAKG,YALzC,UAQE,wBAAOc,QAAO,cAASjB,EAAKkB,IAA5B,UACE,uBACEb,KAAK,WACLa,GAAE,cAASlB,EAAKkB,IAChBC,QAASnB,EAAKG,UACdiB,UAAQ,IAEV,4BAAIpB,EAAKC,WAGX,wBACEG,UAAWY,IACT,wBACA,SACA,CACE,kCACAhB,EAAKkB,KAAO/B,IAGhBkB,KAAK,SACLM,QAAS,WACPvB,EAAkBY,EAAKkB,IACvBhC,EAAkBc,EAAKqB,SAZ3B,yBAeYrB,EAAKqB,YAhCZrB,EAAKkB,iBC9EXI,G,MAAO,uCAAG,WAAOC,GAAP,eAAAC,EAAA,+EAEIC,MAAM,GAAD,OAJf,qCAIe,OAAeF,IAFxB,cAEbG,EAFa,gBAINA,EAASC,OAJH,iGAMZ,MANY,yDAAH,uDCFPC,EAAmB,kBAC9B,qBAAKxB,UAAU,SAAf,SACE,qBAAKA,UAAU,uBCeNyB,EAA+B9C,IAAMC,MAAK,YAIhD,IAHL8C,EAGI,EAHJA,eACA5C,EAEI,EAFJA,kBACAE,EACI,EADJA,kBAEA,EAAwBC,qBAAxB,mBAAO0C,EAAP,KAAaC,EAAb,KACA,EAAgC3C,oBAAS,GAAzC,mBAAO4C,EAAP,KAAkBC,EAAlB,KAEM3B,EAAc4B,mBAAQ,WAC1B,OAAOF,EAAY,cAAC,EAAD,IAAa,iDAC/B,CAACA,IAEEG,EAAYC,sBAAW,sBAAC,sBAAAb,EAAA,6DAC5BU,GAAW,GACXF,OAAQM,GAFoB,KAG5BN,EAH4B,SFf0BV,EAAQ,UAAD,OEkBvCQ,IAHM,kCAI5BI,GAAW,GAJiB,2CAK3B,CAACJ,IAMJ,OAJAlC,qBAAU,WACRwC,MACC,CAACN,IAGDC,EAGG,sBAAK3B,UAAU,cAAf,UACE,oBAAIA,UAAU,qBAAd,SACE,wDAAyB0B,OAG3B,oBAAI1B,UAAU,oBAAd,SAAmC2B,EAAKQ,OACxC,mBAAGnC,UAAU,qBAAb,SAAmC2B,EAAKS,QACxC,mBAAGpC,UAAU,qBAAb,SAAmC2B,EAAKU,QAExC,wBACEpC,KAAK,SACLD,UAAU,4BACVO,QAAS,WACPzB,EAAkB,GAClBE,EAAkB,IALtB,sBAXFmB,KCGOmC,EAvCO,WACpB,MAA4CrD,mBAAS,GAArD,mBAAOyC,EAAP,KAAuB5C,EAAvB,KACA,EAA4CG,mBAAS,GAArD,mBAAOF,EAAP,KAAuBC,EAAvB,KACA,EAA0BC,mBAAiB,IAA3C,mBAAOJ,EAAP,KAAc0D,EAAd,KAEMC,EAAaP,sBAAW,sBAAC,sBAAAb,EAAA,kEAC7BmB,EAD6B,SHCcrB,EAAQ,UGDtB,6EAE5B,IAMH,OAJA1B,qBAAU,WACRgD,MACC,IAGD,sBAAKxC,UAAU,MAAf,UACE,qBAAKA,UAAU,eAAf,SACE,cAAC,EAAD,CACEnB,MAAOA,EACPC,kBAAmBA,EACnBC,eAAgBA,EAChBC,kBAAmBA,MAIvB,qBAAKgB,UAAU,eAAf,SACE,qBAAKA,UAAU,yBAAf,SACG0B,EACC,cAAC,EAAD,CACEA,eAAgBA,EAChB5C,kBAAmBA,EACnBE,kBAAmBA,IAEnB,2BCrCdyD,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.585b8dad.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './TodoList.scss';\nimport classNames from 'classnames';\nimport { Todo } from '../types';\n\ntype Props = {\n  todos: Todo[],\n  setSelectedUserId: (userId: number) => void,\n  selectedTodoId: number,\n  setSelectedTodoId: (todoId: number) => void,\n};\n\nfunction randomArr(arr: Todo[]) {\n  return arr.sort(() => Math.random() - 0.5);\n}\n\nexport const TodoList: React.FC<Props> = React.memo(({\n  todos,\n  setSelectedUserId,\n  selectedTodoId,\n  setSelectedTodoId,\n}) => {\n  const [query, setQuery] = useState('');\n  const [selectValue, setSelectValue] = useState('all');\n  const [visibleTodos, setVisibleTodos] = useState<Todo[]>([]);\n\n  useEffect(() => {\n    const lowerCaseQuery = query.toLowerCase();\n\n    setVisibleTodos(todos.filter(todo => {\n      if (!todo.title.includes(lowerCaseQuery)) {\n        return false;\n      }\n\n      switch (selectValue) {\n        case 'all':\n          return true;\n\n        case 'active':\n          return !todo.completed;\n\n        case 'completed':\n          return todo.completed;\n\n        default:\n          return true;\n      }\n    }));\n  }, [todos, query, selectValue]);\n\n  return (\n    <div className=\"TodoList\">\n      <h2>Todos:</h2>\n      <input\n        type=\"text\"\n        value={query}\n        placeholder=\"Search by title\"\n        className=\"TodoList__input\"\n        onChange={event => setQuery(event.target.value)}\n      />\n\n      <select\n        value={selectValue}\n        onChange={event => setSelectValue(event.target.value)}\n        className=\"TodoList__button\"\n      >\n        <option value=\"all\">All</option>\n        <option value=\"active\">Active</option>\n        <option value=\"completed\">Completed</option>\n      </select>\n\n      <button\n        className=\"TodoList__select\"\n        type=\"button\"\n        onClick={() => setVisibleTodos(randomArr([...visibleTodos]))}\n      >\n        Randomize\n      </button>\n      <div className=\"TodoList__list-container\">\n        <ul className=\"TodoList__list\">\n          {visibleTodos.map(todo => (\n            <li\n              key={todo.id}\n              className={classNames(\n                'TodoList__item',\n                { 'TodoList__item--checked': todo.completed },\n                { 'TodoList__item--unchecked': !todo.completed },\n              )}\n            >\n              <label htmlFor={`todo${todo.id}`}>\n                <input\n                  type=\"checkbox\"\n                  id={`todo${todo.id}`}\n                  checked={todo.completed}\n                  readOnly\n                />\n                <p>{todo.title}</p>\n              </label>\n\n              <button\n                className={classNames(\n                  'TodoList__user-button',\n                  'button',\n                  {\n                    'TodoList__user-button--selected':\n                    todo.id === selectedTodoId,\n                  },\n                )}\n                type=\"button\"\n                onClick={() => {\n                  setSelectedTodoId(todo.id);\n                  setSelectedUserId(todo.userId);\n                }}\n              >\n                {`User #${todo.userId}`}\n              </button>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n});\n","import { User, Todo } from '../components/types';\n\nconst BASE_URL = 'https://mate.academy/students-api';\n\nexport const request = async (endpoint: string) => {\n  try {\n    const responce = await fetch(`${BASE_URL}${endpoint}`);\n\n    return await responce.json();\n  } catch (error) {\n    return null;\n  }\n};\n\nexport const getTodos = (): Promise<Todo[]> => request('/todos');\n\nexport const getUser = (userId: number): Promise<User> => request(`/users/${userId}`);\n","import React from 'react';\n\nexport const Loader: React.FC = () => (\n  <div className=\"Loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import React, {\n  useCallback,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react';\n\nimport './CurrentUser.scss';\n\nimport { getUser } from '../../api/todos';\nimport { Loader } from '../Loader';\nimport { User } from '../types';\n\ntype Props = {\n  selectedUserId: number,\n  setSelectedUserId: (userId: number) => void,\n  setSelectedTodoId: (todoId: number) => void,\n};\n\nexport const CurrentUser: React.FC<Props> = React.memo(({\n  selectedUserId,\n  setSelectedUserId,\n  setSelectedTodoId,\n}) => {\n  const [user, setUser] = useState<User>();\n  const [isLoading, setLoading] = useState(true);\n\n  const placeholder = useMemo(() => {\n    return isLoading ? <Loader /> : <p>User not found</p>;\n  }, [isLoading]);\n\n  const fetchUser = useCallback(async () => {\n    setLoading(true);\n    setUser(undefined);\n    setUser(await getUser(selectedUserId));\n    setLoading(false);\n  }, [selectedUserId]);\n\n  useEffect(() => {\n    fetchUser();\n  }, [selectedUserId]);\n\n  return (\n    !user\n      ? placeholder\n      : (\n        <div className=\"CurrentUser\">\n          <h2 className=\"CurrentUser__title\">\n            <span>{`Selected user: ${selectedUserId}`}</span>\n          </h2>\n\n          <h3 className=\"CurrentUser__name\">{user.name}</h3>\n          <p className=\"CurrentUser__email\">{user.email}</p>\n          <p className=\"CurrentUser__phone\">{user.phone}</p>\n\n          <button\n            type=\"button\"\n            className=\"CurrentUser__clear button\"\n            onClick={() => {\n              setSelectedUserId(0);\n              setSelectedTodoId(0);\n            }}\n          >\n            Clear\n          </button>\n        </div>\n      )\n  );\n});\n","import React, { useCallback, useEffect, useState } from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { getTodos } from './api/todos';\nimport { Todo } from './components/types';\n\nconst App: React.FC = () => {\n  const [selectedUserId, setSelectedUserId] = useState(0);\n  const [selectedTodoId, setSelectedTodoId] = useState(0);\n  const [todos, setTodos] = useState<Todo[]>([]);\n\n  const fetchTodos = useCallback(async () => {\n    setTodos(await getTodos());\n  }, []);\n\n  useEffect(() => {\n    fetchTodos();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <div className=\"App__sidebar\">\n        <TodoList\n          todos={todos}\n          setSelectedUserId={setSelectedUserId}\n          selectedTodoId={selectedTodoId}\n          setSelectedTodoId={setSelectedTodoId}\n        />\n      </div>\n\n      <div className=\"App__content\">\n        <div className=\"App__content-container\">\n          {selectedUserId ? (\n            <CurrentUser\n              selectedUserId={selectedUserId}\n              setSelectedUserId={setSelectedUserId}\n              setSelectedTodoId={setSelectedTodoId}\n            />\n          ) : 'No user selected'}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}